
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>ArrayView in Arkouda &#8212; arkouda 0+untagged.1.g29717c4 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Examples" href="../examples.html" />
    <link rel="prev" title="SegArrays in Arkouda" href="segarray.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="arrayview-in-arkouda">
<h1>ArrayView in Arkouda<a class="headerlink" href="#arrayview-in-arkouda" title="Permalink to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="arkouda.ArrayView">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">arkouda.</span></span><span class="sig-name descname"><span class="pre">ArrayView</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../autoapi/arkouda/pdarrayclass/index.html#arkouda.pdarrayclass.pdarray" title="arkouda.pdarrayclass.pdarray"><span class="pre">pdarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'row_major'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arkouda.ArrayView" title="Permalink to this definition">¶</a></dt>
<dd><p>A multi-dimensional view of a pdarray. Arkouda <code class="docutils literal notranslate"><span class="pre">ArraryView</span></code> behaves similarly to numpy’s ndarray.
The base pdarray is stored in 1-dimension but can be indexed and treated logically
as if it were multi-dimensional</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="arkouda.ArrayView.base">
<span class="sig-name descname"><span class="pre">base</span></span><a class="headerlink" href="#arkouda.ArrayView.base" title="Permalink to this definition">¶</a></dt>
<dd><p>The base pdarray that is being viewed as a multi-dimensional object</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="pdarray.html#arkouda.pdarray" title="arkouda.pdarray">pdarray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="arkouda.ArrayView.dtype">
<span class="sig-name descname"><span class="pre">dtype</span></span><a class="headerlink" href="#arkouda.ArrayView.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>The element type of the base pdarray (equivalent to base.dtype)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dtype</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="arkouda.ArrayView.size">
<span class="sig-name descname"><span class="pre">size</span></span><a class="headerlink" href="#arkouda.ArrayView.size" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of elements in the base pdarray (equivalent to base.size)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int_scalars</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="arkouda.ArrayView.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#arkouda.ArrayView.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>A pdarray specifying the sizes of each dimension of the array</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="pdarray.html#arkouda.pdarray" title="arkouda.pdarray">pdarray</a>[int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="arkouda.ArrayView.ndim">
<span class="sig-name descname"><span class="pre">ndim</span></span><a class="headerlink" href="#arkouda.ArrayView.ndim" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of dimensions (equivalent to shape.size)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int_scalars</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="arkouda.ArrayView.itemsize">
<span class="sig-name descname"><span class="pre">itemsize</span></span><a class="headerlink" href="#arkouda.ArrayView.itemsize" title="Permalink to this definition">¶</a></dt>
<dd><p>The size in bytes of each element (equivalent to base.itemsize)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int_scalars</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="arkouda.ArrayView.order">
<span class="sig-name descname"><span class="pre">order</span></span><a class="headerlink" href="#arkouda.ArrayView.order" title="Permalink to this definition">¶</a></dt>
<dd><p>Index order to read and write the elements.
By default or if ‘C’/’row_major’, read and write data in row_major order
If ‘F’/’column_major’, read and write data in column_major order</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str {‘C’/’row_major’ | ‘F’/’column_major’}</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<section id="creation">
<h2>Creation<a class="headerlink" href="#creation" title="Permalink to this heading">¶</a></h2>
<p>ArrayViews can be created using ak.array or pdarray.reshape</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ak</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="go">array([[0, 0],</span>
<span class="go">       [0, 1],</span>
<span class="go">       [1, 1]])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">ak</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">array([[[ 0,  1,  2],</span>
<span class="go">        [ 3,  4,  5]],</span>

<span class="go">       [[ 6,  7,  8],</span>
<span class="go">        [ 9, 10, 11]],</span>

<span class="go">       [[12, 13, 14],</span>
<span class="go">        [15, 16, 17]],</span>

<span class="go">       [[18, 19, 20],</span>
<span class="go">        [21, 22, 23]],</span>

<span class="go">       [[24, 25, 26],</span>
<span class="go">        [27, 28, 29]]])</span>
</pre></div>
</div>
</section>
<section id="indexing">
<h2>Indexing<a class="headerlink" href="#indexing" title="Permalink to this heading">¶</a></h2>
<p>Arkouda <code class="docutils literal notranslate"><span class="pre">ArrayView</span></code> objects support basic indexing</p>
<ul class="simple">
<li><p>Indexing with an integer <code class="docutils literal notranslate"><span class="pre">pdarray</span></code> (of size ndim) or</p></li>
<li><p>Indexing with a mix of integers and slices</p></li>
</ul>
<p>Mixed indexing by arrays or “advanced indexing” as numpy calls it is not yet supported. numpy behavior with 2+ arrays is different than equivalent slices.</p>
<p>This example shows how indexing by arrays can be a bit different. This is talked about a bit in <a class="reference external" href="https://numpy.org/doc/stable/user/basics.indexing.html">https://numpy.org/doc/stable/user/basics.indexing.html</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go"># sometimes they line up</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">[:,:]</span>
<span class="go">array([[0, 1],</span>
<span class="go">       [2, 3]])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">[:,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]]</span>
<span class="go">array([[0, 1],</span>
<span class="go">       [2, 3]])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],:]</span>
<span class="go">array([[0, 1],</span>
<span class="go">       [2, 3]])</span>
<span class="go"># sometimes they do not</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]]</span>
<span class="go">array([0, 3])</span>
</pre></div>
</div>
<p>With 2+ arrays the functionality switches from the Cartesian product of coordinates to more coordinate-wise.</p>
<p>so <code class="docutils literal notranslate"><span class="pre">n[:,</span> <span class="pre">:]</span></code> gets indices <code class="docutils literal notranslate"><span class="pre">[0,0],</span> <span class="pre">[0,1],</span> <span class="pre">[1,0],</span> <span class="pre">[1,1]</span></code> whereas <code class="docutils literal notranslate"><span class="pre">n[[0,1],[0,1]]</span></code> only gets indices <code class="docutils literal notranslate"><span class="pre">[0,0],</span> <span class="pre">[1,1]</span></code></p>
</section>
<section id="iteration">
<h2>Iteration<a class="headerlink" href="#iteration" title="Permalink to this heading">¶</a></h2>
<p>Iterating directly over an <code class="docutils literal notranslate"><span class="pre">ArrayView</span></code> with <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">x</span> <span class="pre">in</span> <span class="pre">array_view</span></code> is not supported to discourage transferring all array data from the arkouda server to the Python client. To force this transfer, use the <code class="docutils literal notranslate"><span class="pre">to_ndarray</span></code> function to return the <code class="docutils literal notranslate"><span class="pre">ArrayView</span></code> as a <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>. This transfer will raise an error if it exceeds the byte limit defined in <code class="docutils literal notranslate"><span class="pre">arkouda.maxTransferBytes</span></code>.</p>
<dl class="py function">
<dt class="sig sig-object py" id="arkouda.ArrayView.to_ndarray">
<span class="sig-prename descclassname"><span class="pre">arkouda.ArrayView.</span></span><span class="sig-name descname"><span class="pre">to_ndarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#arkouda.ArrayView.to_ndarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the ArrayView to a np.ndarray, transferring array data from the
Arkouda server to client-side Python. Note: if the ArrayView size exceeds
client.maxTransferBytes, a RuntimeError is raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A numpy ndarray with the same attributes and data as the ArrayView</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> – Raised if there is a server-side error thrown, if the ArrayView size
    exceeds the built-in client.maxTransferBytes size limit, or if the bytes
    received does not match expected number of bytes</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The number of bytes in the array cannot exceed <code class="docutils literal notranslate"><span class="pre">client.maxTransferBytes</span></code>,
otherwise a <code class="docutils literal notranslate"><span class="pre">RuntimeError</span></code> will be raised. This is to protect the user
from overflowing the memory of the system on which the Python client
is running, under the assumption that the server is running on a
distributed system with much more memory than the client. The user
may override this limit by setting client.maxTransferBytes to a larger
value, but proceed with caution.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">array</span></code></p>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">ak</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">to_ndarray</span><span class="p">()</span>
<span class="go">array([[0, 1, 2],</span>
<span class="go">       [3, 4, 5]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">to_ndarray</span><span class="p">())</span>
<span class="go">numpy.ndarray</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">arkouda</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../setup/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/testing.html">Performance Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/quickstart.html">Quickstart</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../usage.html">Usage</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="startup.html">Startup</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdarray.html">The <code class="docutils literal notranslate"><span class="pre">pdarray</span></code> class</a></li>
<li class="toctree-l2"><a class="reference internal" href="creation.html">Creating Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="IO.html">Data I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="arithmetic.html">Arithmetic and Numeric Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="indexing.html">Indexing and Assignment</a></li>
<li class="toctree-l2"><a class="reference internal" href="histogram.html">Summarizing Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="argsort.html">Sorting</a></li>
<li class="toctree-l2"><a class="reference internal" href="setops.html">Array Set Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="groupby.html">GroupBy</a></li>
<li class="toctree-l2"><a class="reference internal" href="strings.html">Strings in Arkouda</a></li>
<li class="toctree-l2"><a class="reference internal" href="categorical.html">Categoricals</a></li>
<li class="toctree-l2"><a class="reference internal" href="segarray.html">SegArrays in Arkouda</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ArrayView in Arkouda</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../autoapi/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/index.html">Chapel API Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../usage.html">Usage</a><ul>
      <li>Previous: <a href="segarray.html" title="previous chapter">SegArrays in Arkouda</a></li>
      <li>Next: <a href="../examples.html" title="next chapter">Examples</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Michael Merrill and William Reus.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/usage/arrayview.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>